(function(a){a.fn.flatsomeInfiniteScroll=function(){return this.each(function(){var a=jQuery('.shop-container .products'),f='.woocommerce-pagination li a.next',c,d,e,h,b,g;if(a.length===0||jQuery(f).length===0||a.hasClass('ux-infinite-scroll-js-attached'))return;c=jQuery('button.view-more-button.products-archive'),d=flatsome_infinite_scroll.type==='button',e=flatsome_infinite_scroll.list_style==='masonry',h=!!e&&Packery.data(a[0]),b=a.infiniteScroll({path:f,append:'.shop-container .product',checkLastPage:!0,status:'.page-load-status',hideNav:'.archive .woocommerce-pagination',button:'.view-more-button',history:flatsome_infinite_scroll.history,historyTitle:!0,debug:!1,outlayer:h,scrollThreshold:parseInt(flatsome_infinite_scroll.scroll_threshold)}),d&&(c.removeClass('hidden'),b.infiniteScroll('option',{scrollThreshold:!1,loadOnScroll:!1})),b.on('load.infiniteScroll',function(b,a,c){g.attachBehaviors(a)}),b.on('request.infiniteScroll',function(a,b){d&&c.addClass('loading')}),b.on('append.infiniteScroll',function(k,j,h,f){if(jQuery(document).trigger('flatsome-infiniteScroll-append',[j,h,f]),d&&c.removeClass('loading'),jQuery(f).find('img').each(function(b,a){a.outerHTML=a.outerHTML}),jQuery(document).trigger('yith_wcwl_reload_fragments'),jQuery(document).trigger('flatsome-equalize-box'),Flatsome.attach('lazy-load-images',a),g.animateNewItems(f),e&&setTimeout(function(){b.imagesLoaded(function(){b.packery('layout')})},500),window.ga&&ga.loaded&&typeof ga=='function'){var i=document.createElement('a');i.href=h,ga('set','page',i.pathname),ga('send','pageview')}}),g={attachBehaviors:function(a){Flatsome.attach('quick-view',a),Flatsome.attach('tooltips',a),Flatsome.attach('add-qty',a),Flatsome.attach('wishlist',a)},animateNewItems:function(a){if(e)return;jQuery(a).hide().fadeIn(parseInt(flatsome_infinite_scroll.fade_in_duration))}},a.addClass('ux-infinite-scroll-js-attached')})},a(function(){a(document.body).flatsomeInfiniteScroll(),a(document).on('facetwp-loaded yith-wcan-ajax-filtered experimental-flatsome-pjax-request-done',function(){a(document.body).flatsomeInfiniteScroll()})})})(jQuery)